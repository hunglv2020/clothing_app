<odoo>
    <record id="view_sample_template_specification_tree" model="ir.ui.view">
        <field name="name">sample_template.specification.tree</field>
        <field name="model">sample_template.specification</field>
        <field name="arch" type="xml">
            <tree string="Sample Templates">
                <field name="name"/>
                <field name="reference_code"/>
                <field name="client_id"/>
                <field name="brand"/>
                <field name="quoted_price"/>
                <field name="development_date"/>
            </tree>
        </field>
    </record>

    <record id="view_sample_template_specification_form" model="ir.ui.view">
        <field name="name">sample_template.specification.form</field>
        <field name="model">sample_template.specification</field>
        <field name="arch" type="xml">
            <form string="Sample Template">
                <sheet>
                    <separator string="Basic Information"/>
                    <group col="3">
                    <group>
                        <field name="name"/>
                        <field name="client_id"/>
                        <field name="designer"/>
                        <field name="quantity"/>
                        <field name="development_date"/>
                    </group>
                    <group>
                        <field name="reference_code"/>
                        <field name="brand"/>
                        <field name="pattern_maker"/>
                        <field name="style"/>
                        <field name="department_ids" widget="many2many_tags"/>
                    </group>
                    <group>
                        <field name="color"/>
                        <field name="quoted_price" string="Quote"/>
                        <field name="sample_maker" string="Pattern Maker"/>
                        <field name="base_size" string="Pattern Size"/>
                    </group>
                    </group>
                    <separator string="Finished Size"/>
                    <div class="d-flex justify-content-between align-items-center gap-2 mb-2">
                    <field name="finished_size_id"
                            class="flex-grow-1"
                            options="{'no_create': True}"
                            placeholder="Select Finished Size..."
                            context="{'form_view_ref': 'sample_template.view_sample_template_finished_size_form'}"/>
                    <div class="d-flex flex-wrap gap-2">
                        <button name="action_open_finished_size"
                                type="object"
                                string="Edit"
                                icon="fa-pencil"
                                class="btn btn-sm btn-primary"
                                modifiers='{"invisible": [["finished_size_id", "=", False]]}'/>
                        <button name="action_create_finished_size"
                                type="object"
                                string="New"
                                icon="fa-plus"
                                class="btn btn-sm btn-secondary"
                                modifiers='{"invisible": [["finished_size_id", "!=", False]]}'/>
                    </div>
                    </div>

                    <separator string="Materials Used" class="my-3"/>

                    <field name="material_usage_ids">
                        <tree editable="bottom">
                            <field name="material_id"/>
                            <field name="material_type" optional="show"/>
                            <field name="color" optional="show"/>
                            <field name="color_code" optional="show"/>
                            <field name="specification" optional="show"/>
                            <field name="unit" optional="show"/>
                            <field name="default_price" optional="show"/>
                            <field name="supplier" optional="show"/>
                            <field name="note" optional="show"/>
                            <field name="quantity_used"/>
                            <field name="quantity_in_stock" readonly="1"/>
                            <field name="total_cost" readonly="1"/>
                        </tree>
                    </field>

                </sheet>
            </form>
        </field>
    </record>

</odoo>